services:
  - type: web
    name: andar-bahar-game
    env: node
    region: oregon  # or your preferred region (oregon, frankfurt, singapore, etc.)
    plan: starter  # free, starter, or standard based on your needs
    buildCommand: npm install && npm run build
    startCommand: npm start
    envVars:
      - key: NODE_ENV
        value: production
      - key: PORT
        sync: false  # Render will provide this automatically via PORT env var
      - key: JWT_SECRET
        generateValue: true  # Auto-generate secure JWT secret
      - key: JWT_EXPIRES_IN
        value: 7d  # JWT expiration time
      - key: SUPABASE_URL
        sync: false  # REQUIRED: Add your Supabase project URL in Render dashboard
      - key: SUPABASE_SERVICE_KEY
        sync: false  # REQUIRED: Add your Supabase service role key in Render dashboard
      - key: SUPABASE_ANON_KEY
        sync: false  # REQUIRED: Add your Supabase anonymous key (for client-side)
      - key: CORS_ORIGIN
        sync: false  # Will be set automatically to your Render URL
      - key: ALLOWED_ORIGINS
        sync: false  # Comma-separated list of allowed origins (optional)
      - key: DEFAULT_BALANCE
        value: 1000  # Default balance for new users (optional)
    healthCheckPath: /  # Root path serves the app