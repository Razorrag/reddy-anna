{
  "timestamp": "2025-11-19T12:05:07.096Z",
  "supabase_url": "https://nliiasrfkenkkdlzkcum.supabase.co",
  "tables": [
    {
      "table_name": "user_referrals",
      "exists": true
    },
    {
      "table_name": "bonus_transactions",
      "exists": true
    },
    {
      "table_name": "admin_requests_summary",
      "exists": true
    },
    {
      "table_name": "admin_credentials",
      "exists": true
    },
    {
      "table_name": "token_blacklist",
      "exists": true
    },
    {
      "table_name": "dealt_cards",
      "exists": true
    },
    {
      "table_name": "game_history",
      "exists": true
    },
    {
      "table_name": "stream_settings",
      "exists": true
    },
    {
      "table_name": "game_settings",
      "exists": true
    },
    {
      "table_name": "player_bets",
      "exists": true
    },
    {
      "table_name": "blocked_users",
      "exists": true
    },
    {
      "table_name": "monthly_game_statistics",
      "exists": true
    },
    {
      "table_name": "stream_sessions",
      "exists": true
    },
    {
      "table_name": "game_statistics",
      "exists": true
    },
    {
      "table_name": "game_sessions",
      "exists": true
    },
    {
      "table_name": "admin_requests",
      "exists": true
    },
    {
      "table_name": "daily_game_statistics",
      "exists": true
    },
    {
      "table_name": "simple_stream_config",
      "exists": true
    },
    {
      "table_name": "password_reset_tokens",
      "exists": true
    },
    {
      "table_name": "user_creation_log",
      "exists": true
    },
    {
      "table_name": "payment_requests",
      "exists": true
    },
    {
      "table_name": "request_audit",
      "exists": true
    },
    {
      "table_name": "bonus_tracking",
      "exists": true
    },
    {
      "table_name": "referral_bonuses",
      "exists": true
    },
    {
      "table_name": "admin_dashboard_settings",
      "exists": true
    },
    {
      "table_name": "user_bonus_summary",
      "exists": true
    },
    {
      "table_name": "whatsapp_messages",
      "exists": true
    },
    {
      "table_name": "deposit_bonuses",
      "exists": true
    },
    {
      "table_name": "users",
      "exists": true
    },
    {
      "table_name": "admin_audit_log",
      "exists": true
    },
    {
      "table_name": "user_transactions",
      "exists": true
    },
    {
      "table_name": "yearly_game_statistics",
      "exists": true
    },
    {
      "table_name": "stream_config",
      "exists": true
    }
  ],
  "rpcs": [
    {
      "routine_name": "check_conditional_bonus",
      "routine_type": "FUNCTION"
    },
    {
      "routine_name": "create_payout_transaction",
      "routine_type": "FUNCTION"
    },
    {
      "routine_name": "update_request_status",
      "routine_type": "FUNCTION"
    },
    {
      "routine_name": "update_bet_with_payout",
      "routine_type": "FUNCTION"
    },
    {
      "routine_name": "cleanup_expired_tokens",
      "routine_type": "FUNCTION"
    },
    {
      "routine_name": "add_balance_atomic",
      "routine_type": "FUNCTION"
    },
    {
      "routine_name": "generate_referral_code",
      "routine_type": "FUNCTION"
    },
    {
      "routine_name": "update_balance_atomic",
      "routine_type": "FUNCTION"
    },
    {
      "routine_name": "get_user_game_history",
      "routine_type": "FUNCTION"
    },
    {
      "routine_name": "recalculate_all_player_stats",
      "routine_type": "FUNCTION"
    },
    {
      "routine_name": "reconcile_analytics",
      "routine_type": "FUNCTION"
    },
    {
      "routine_name": "update_balance_with_request",
      "routine_type": "FUNCTION"
    }
  ],
  "triggers": [],
  "views": [],
  "foreignKeys": [],
  "indexes": [],
  "sql_queries": {
    "tables": {
      "query": "\n      SELECT \n        t.table_name,\n        json_agg(\n          json_build_object(\n            'column_name', c.column_name,\n            'data_type', c.data_type,\n            'is_nullable', c.is_nullable,\n            'column_default', c.column_default\n          ) ORDER BY c.ordinal_position\n        ) as columns\n      FROM information_schema.tables t\n      LEFT JOIN information_schema.columns c ON t.table_name = c.table_name AND t.table_schema = c.table_schema\n      WHERE t.table_schema = 'public' AND t.table_type = 'BASE TABLE'\n      GROUP BY t.table_name\n      ORDER BY t.table_name;\n    ",
      "note": "Run this query in Supabase SQL Editor to get detailed information"
    },
    "rpcs": {
      "query": "\n      SELECT \n        routine_name,\n        routine_type,\n        data_type as return_type,\n        routine_definition\n      FROM information_schema.routines\n      WHERE routine_schema = 'public'\n      ORDER BY routine_name;\n    ",
      "note": "Run this query in Supabase SQL Editor to get detailed information"
    },
    "triggers": {
      "query": "\n      SELECT \n        trigger_name,\n        event_object_table as table_name,\n        action_timing,\n        event_manipulation,\n        action_statement\n      FROM information_schema.triggers\n      WHERE trigger_schema = 'public'\n      ORDER BY trigger_name;\n    ",
      "note": "Run this query in Supabase SQL Editor to get detailed information"
    },
    "views": {
      "query": "\n      SELECT \n        table_name as view_name,\n        view_definition\n      FROM information_schema.views\n      WHERE table_schema = 'public'\n      ORDER BY table_name;\n    ",
      "note": "Run this query in Supabase SQL Editor to get detailed information"
    },
    "foreignKeys": {
      "query": "\n      SELECT\n        tc.constraint_name,\n        tc.table_name,\n        kcu.column_name,\n        ccu.table_name AS foreign_table_name,\n        ccu.column_name AS foreign_column_name\n      FROM information_schema.table_constraints AS tc\n      JOIN information_schema.key_column_usage AS kcu\n        ON tc.constraint_name = kcu.constraint_name\n        AND tc.table_schema = kcu.table_schema\n      JOIN information_schema.constraint_column_usage AS ccu\n        ON ccu.constraint_name = tc.constraint_name\n        AND ccu.table_schema = tc.table_schema\n      WHERE tc.constraint_type = 'FOREIGN KEY'\n        AND tc.table_schema = 'public'\n      ORDER BY tc.table_name, tc.constraint_name;\n    ",
      "note": "Run this query in Supabase SQL Editor to get detailed information"
    },
    "indexes": {
      "query": "\n      SELECT\n        schemaname,\n        tablename,\n        indexname,\n        indexdef\n      FROM pg_indexes\n      WHERE schemaname = 'public'\n      ORDER BY tablename, indexname;\n    ",
      "note": "Run this query in Supabase SQL Editor to get detailed information"
    }
  }
}